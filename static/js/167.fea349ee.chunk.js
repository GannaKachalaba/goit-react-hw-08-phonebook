"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[167],{3167:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var a=t(5048),s=t(5489),r=t(9439),c=t(2791),l=t(6355),i="Contact_wrapper__K-zLN",o="Contact_icon__uPRlS",u="Contact_number__aT6T9",d="Contact_button__F+kJb",_=t(3329);var m=function(e){var n=e.name,t=e.number,a=e.id,c=(0,s.Nt)(),m=(0,r.Z)(c,2),h=m[0],x=m[1].isLoading;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:i,children:[(0,_.jsx)("span",{className:o,children:(0,_.jsx)(l.q1E,{})}),(0,_.jsx)("p",{children:n})]}),(0,_.jsxs)("div",{className:i,children:[(0,_.jsxs)("p",{className:u,children:[" ",t]}),(0,_.jsx)("button",{className:d,type:"button",onClick:function(){h(a)},disabled:x,children:(0,_.jsx)(l.Xm5,{})})]})]})},h="ContactList_item__EZYHO";var x=function(){var e=(0,s.Jx)(),n=e.data,t=e.refetch,r=(0,a.v9)((function(e){return function(e){return e.contacts}(e)})).filter,l=function(){var e=r.toLowerCase();if(n)return n.filter((function(n){return n.name.toLowerCase().includes(e)}))}();return(0,c.useEffect)((function(){t()}),[t]),(0,_.jsx)("ul",{children:n&&l.map((function(e){var n=e.id,t=e.name,a=e.phone;return(0,_.jsx)("li",{className:h,children:(0,_.jsx)(m,{name:t,number:a,id:n})},n)}))})},p=t(8331),j="Filter_label__vEd1E",f="Filter_text__uqQRu",v="Filter_input__N7T3z";var N=function(){var e=(0,a.I0)();return(0,_.jsxs)("label",{className:j,children:[(0,_.jsx)("p",{className:f,children:"Find contacts by name"}),(0,_.jsx)("input",{className:v,type:"text",name:"filter",onChange:function(n){var t=n.currentTarget.value;e((0,p.IA)(t))}})]})},b=t(2007),C=t.n(b),g="Message_wrapper__2zklN",w="Message_text__aMVcH",k=function(e){var n=e.text;return(0,_.jsx)("div",{className:g,children:(0,_.jsx)("p",{className:w,children:n})})};k.prototype={text:C().string.isRequired};var y=k,F=t(9126),T=t(4164),Z=t(8820),A="Modal_backdrop__xTnIT",L="Modal_modal__DJDMv",E="Modal_wrapper__TlE5n",M="Modal_title__3HkNf",z="Modal_button__PTCbC",H=document.querySelector("#modal-root");function q(e){var n=e.children,t=e.onClose;(0,c.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]);return(0,T.createPortal)((0,_.jsx)("div",{className:A,onClick:function(e){e.target===e.currentTarget&&t()},children:(0,_.jsxs)("div",{className:L,children:[(0,_.jsxs)("div",{className:E,children:[(0,_.jsx)("h2",{className:M,children:"Add contact"}),(0,_.jsx)("button",{className:z,type:"button",onClick:t,children:(0,_.jsx)(Z.oHP,{})})]}),n]})}),H)}q.prototype={children:C().element,onClose:C().func.isRequired,title:C().string};var P=q,S="ContactForm_label__-cVXI",J="ContactForm_title__jZguf",R="ContactForm_input__Bl93P",I="ContactForm_button__eSwX9";var B=function(e){var n=e.onClose,t=(0,c.useState)(""),a=(0,r.Z)(t,2),l=a[0],i=a[1],o=(0,c.useState)(""),u=(0,r.Z)(o,2),d=u[0],m=u[1],h=(0,s.Jx)().data,x=(0,s.Tn)(),p=(0,r.Z)(x,2),j=p[0],f=p[1].isLoading,v=function(){i(""),m("")};return(0,_.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:l,phone:d};h.find((function(e){return e.name.toLowerCase()===l.toLowerCase()}))?alert("".concat(l),"This user is already in the contact list.","OK"):(j(t),v(),n())},children:[(0,_.jsxs)("label",{className:S,children:[(0,_.jsx)("span",{className:J,children:"Name"}),(0,_.jsx)("input",{className:R,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:l,onChange:function(e){return i(e.currentTarget.value)}})]}),(0,_.jsxs)("label",{className:S,children:[(0,_.jsx)("span",{className:J,children:"Number"}),(0,_.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:d,onChange:function(e){return m(e.currentTarget.value)},className:R})]}),(0,_.jsx)("button",{type:"submit",className:I,disabled:f,children:"Add contact"})]})},D="Header_title__x3ga3",O="Header_title__color__G6Cjp",X="Header_button__eZN2O",K="Header_button__text__Lpce4";var V=function(){var e=(0,c.useState)(!1),n=(0,r.Z)(e,2),t=n[0],a=n[1],s=function(){return a((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("h1",{className:D,children:["Phone",(0,_.jsx)("span",{className:O,children:"book"})]}),(0,_.jsxs)("button",{className:X,type:"button",onClick:s,children:[(0,_.jsx)("span",{className:K,children:"Add new contact"})," ",(0,_.jsx)(F.RYR,{size:20})]}),t&&(0,_.jsx)(P,{onClose:s,children:(0,_.jsx)(B,{onClose:s})})]})},Y="App_container__ZdBeZ",G="App_subtitle__j5Uo2";var Q=function(){var e=(0,s.Jx)().data;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:Y,children:(0,_.jsx)(V,{})}),(0,_.jsxs)("div",{className:Y,children:[(0,_.jsx)("h2",{className:G,children:"Contacts"}),(0,_.jsx)(N,{className:Y}),e&&e.length>0?(0,_.jsx)(x,{className:Y}):(0,_.jsx)(y,{massage:"Contact list is empty"})]})]})}}}]);
//# sourceMappingURL=167.fea349ee.chunk.js.map